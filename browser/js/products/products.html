<section id="products">
	<div class="container" style="margin-top:-50px;">

		<h2>All Products</h2>
		<p>Filter by Category:
			<input name="categoryFilter" type="text" ng-model="categories" />
		</p>

		<p>Filter by Country:
			<select name="countryFilter" ng-options="country.name as country.name for country in countryData" ng-model="country">
			</select>
		</p>
		<p>Order by:
			<select name="orderField" ng-model="field" required>
				<option value="title">Product Title</option>
				<option value="price">Price, by lowest</option>
			</select>
		</p>
		<div class="container">
				<div style=""class="col-lg-3 col-md-4 col-sm-6 "   ng-repeat="product in products | orderBy: field " ng-show="(country === 'All' || country === product.country)">
				<!-- <pre>{{ product | json }}</pre> -->


					<a ui-sref="detail({id: product._id})" class="thumbnail product-image list-group-item">
						<img ng-src="{{ product.photo }}" alt="{{ product.title }}">
					</a>
					<div class="caption product-image">
						<h4 ui-sref='detail({id: product._id})'> {{ product.title }} </h4>

						<span ng-show="!!product.country" class="flag-icon flag-icon-{{ countryData[product.country].abbr }}"></span>
						<strong>{{ product.price | currency }}</strong>
						<span>{{ product.stock }} in stock </span>
						<p>
							<div ng-show="product.stock > 0">
								<span><a href="#" class="btn btn-primary" role="button" ng-click="addToCart(product)">
									<span class="glyphicon glyphicon-shopping-cart"></span> Add to Cart
								</a></span>
								<span><input name="quantity" type="text" ng-model="product.quantity" placeholder="Qty:" size="4"></input></span>
							</div>
							<span><a href="#" ng-show="product.stock <= 0"class="btn btn-default strike" role="button" >
								<span class="glyphicon glyphicon-ban-circle"></span> Sold Out
							</a></span>

						 </p>


					</div>

		</div>


		</div>
	</div>


</section>
